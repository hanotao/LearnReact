<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <script src="https://cdn.staticfile.org/react/16.4.0/umd/react.development.js"></script>
  <script src="https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js"></script>
  <!-- 生产环境中不建议使用 -->
  <script src="https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prop-types/15.6.0/prop-types.js"></script>
</head>
<body>
  <div id="app"></div>
</body>
</html>
<script type="text/babel">
  class Login extends React.Component{

    constructor(props){
      super(props)
      this.handleSubmit = this.handleSubmit.bind(this)
      this.handleChange = this.handleChange.bind(this)
      this.state = {
        'pwd': ''
      }
    }

    handleSubmit(event){
      const name = this.nameInput.value
      const {pwd} = this.state
      alert(`准备提交的用户名为${name},密码为${pwd}`)

      // 阻止默认行为
      event.preventDefault()

    }

    handleChange(event){
      //读取输入的值
      const pwd = event.target.value
      //更新pwd的状态
      this.setState({
        pwd
      })
    }
    render(){
      return (
        <form action="/test" onSubmit={this.handleSubmit}>
          // 非受控组件
          用户名:<input type="text" ref={input=>this.nameInput=input}/>
          // 受控组件
          密码:<input type="password" value={this.state.pwd} onChange={this.handleChange}/>
          <input type="submit" value="登录"/>
        </form>
      )
    }
  }

  ReactDOM.render(<Login/>,document.getElementById("app"))
</script>